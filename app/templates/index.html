{% extends "base.html" %}

{% block content %}
<!-- Hero Section - Asymmetric Emergency-First Layout -->
<section class="relative overflow-hidden bg-neutral-50">
  <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12 md:py-20">
    <div class="grid grid-cols-1 lg:grid-cols-12 gap-8 lg:gap-12 items-center">

      <!-- Left Column: Typography + CTA -->
      <div class="lg:col-span-7 space-y-6">
        <div class="inline-block">
          <span class="inline-flex items-center space-x-2 bg-emergency/10 text-emergency px-4 py-2 rounded-full text-sm font-semibold">
            <svg class="w-4 h-4 animate-badge-pulse" fill="currentColor" viewBox="0 0 20 20">
              <circle cx="10" cy="10" r="10"/>
            </svg>
            <span>Available Now - 2 Hour Response</span>
          </span>
        </div>

        <h1 class="text-5xl md:text-6xl lg:text-7xl font-bold tracking-tight leading-[1.1]">
          Emergency<br>
          Electrical<br>
          <span class="text-emergency">Service</span>
        </h1>

        <p class="text-xl md:text-2xl text-neutral-800 leading-relaxed max-w-2xl">
          Licensed electrical contractors serving Fort Myers & Cape Coral with 24/7 emergency response, panel upgrades, and commercial electrical services.
        </p>

        <div class="flex flex-col sm:flex-row gap-4 pt-4">
          <a
            href="tel:{{ phone }}"
            class="btn-emergency"
            x-data="{ clicked: false }"
            @click="
              clicked = true;
              $dispatch('emergency-click', { location: 'hero', timestamp: Date.now() });
            "
          >
            <svg class="w-6 h-6 mr-3" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"/>
            </svg>
            Call Emergency Line
          </a>

          <a
            href="/quote"
            class="btn-outline"
          >
            Request Quote
          </a>
        </div>

        <!-- Trust Signals - Staggered Layout -->
        <div class="grid grid-cols-2 md:grid-cols-4 gap-4 pt-8 border-t border-neutral-200">
          <div>
            <div class="text-3xl font-bold text-emergency">24/7</div>
            <div class="text-sm text-neutral-800">Emergency Service</div>
          </div>
          <div>
            <div class="text-3xl font-bold text-emergency">2hr</div>
            <div class="text-sm text-neutral-800">Avg Response</div>
          </div>
          <div>
            <div class="text-3xl font-bold text-emergency">15+</div>
            <div class="text-sm text-neutral-800">Years Licensed</div>
          </div>
          <div>
            <div class="text-3xl font-bold text-emergency">100%</div>
            <div class="text-sm text-neutral-800">Satisfaction</div>
          </div>
        </div>
      </div>

      <!-- Right Column: Image with Permit Badge Overlay -->
      <div class="lg:col-span-5 relative">
        <!-- Placeholder for hero image -->
        <div class="w-full h-[500px] bg-neutral-200 rounded-lg shadow-2xl flex items-center justify-center">
          <svg class="w-24 h-24 text-neutral-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z"/>
          </svg>
        </div>

        <!-- Permit Badge Overlay -->
        <div class="absolute -bottom-6 -left-6 trust-badge">
          <svg class="w-8 h-8 text-emergency" fill="currentColor" viewBox="0 0 20 20">
            <path fill-rule="evenodd" d="M6.267 3.455a3.066 3.066 0 001.745-.723 3.066 3.066 0 013.976 0 3.066 3.066 0 001.745.723 3.066 3.066 0 012.812 2.812c.051.643.304 1.254.723 1.745a3.066 3.066 0 010 3.976 3.066 3.066 0 00-.723 1.745 3.066 3.066 0 01-2.812 2.812 3.066 3.066 0 00-1.745.723 3.066 3.066 0 01-3.976 0 3.066 3.066 0 00-1.745-.723 3.066 3.066 0 01-2.812-2.812 3.066 3.066 0 00-.723-1.745 3.066 3.066 0 010-3.976 3.066 3.066 0 00.723-1.745 3.066 3.066 0 012.812-2.812zm7.44 5.252a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"/>
          </svg>
          <div>
            <div class="text-xs font-semibold text-neutral-800">FL License</div>
            <div class="text-sm font-mono font-bold">{{ license }}</div>
          </div>
        </div>
      </div>

    </div>
  </div>
</section>

<!-- Service Categories - Circuit Breaker Panel Metaphor -->
<section class="py-16 md:py-24 bg-neutral-100" aria-labelledby="services-heading">
  <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
    <div class="max-w-3xl mb-12">
      <h2 id="services-heading" class="text-4xl md:text-5xl font-bold tracking-tight mb-4">
        Electrical Services
      </h2>
      <p class="text-xl text-neutral-800">
        Licensed for residential & commercial electrical work throughout Lee County. Every job includes permit documentation and warranty.
      </p>
    </div>

    <!-- Asymmetric Service Grid -->
    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">

      <!-- Emergency Service Card (Emphasized) -->
      <article class="service-card-emergency md:col-span-2 lg:col-span-1">
        <div class="flex items-start justify-between mb-4">
          <svg class="w-12 h-12" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z"/>
          </svg>
          <span class="bg-white/20 px-3 py-1 rounded-full text-xs font-semibold">24/7</span>
        </div>
        <h3 class="text-2xl font-bold mb-3">Emergency Electrical</h3>
        <p class="mb-6 text-white/90">
          Power outages, breaker trips, sparking outlets, burning smells. 2-hour average response time.
        </p>
        <a
          href="/services"
          class="inline-flex items-center text-white font-semibold hover:underline"
        >
          Learn More
          <svg class="w-5 h-5 ml-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 8l4 4m0 0l-4 4m4-4H3"/>
          </svg>
        </a>
      </article>

      <!-- Panel Upgrades -->
      <article class="service-card">
        <div class="mb-4">
          <svg class="w-12 h-12 text-emergency" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"/>
          </svg>
        </div>
        <h3 class="text-2xl font-bold mb-3 text-neutral-900">Panel Upgrades</h3>
        <p class="mb-6 text-neutral-800">
          100A to 200A upgrades, sub-panel installation, AFCI/GFCI compliance.
        </p>
        <a
          href="/services"
          class="inline-flex items-center text-emergency font-semibold hover:underline"
        >
          Learn More
          <svg class="w-5 h-5 ml-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 8l4 4m0 0l-4 4m4-4H3"/>
          </svg>
        </a>
      </article>

      <!-- Commercial Electrical -->
      <article class="service-card">
        <div class="mb-4">
          <svg class="w-12 h-12 text-emergency" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"/>
          </svg>
        </div>
        <h3 class="text-2xl font-bold mb-3 text-neutral-900">Commercial Electrical</h3>
        <p class="mb-6 text-neutral-800">
          Tenant build-outs, lighting retrofits, code compliance inspections.
        </p>
        <a
          href="/services"
          class="inline-flex items-center text-emergency font-semibold hover:underline"
        >
          Learn More
          <svg class="w-5 h-5 ml-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 8l4 4m0 0l-4 4m4-4H3"/>
          </svg>
        </a>
      </article>

    </div>
  </div>
</section>

<!-- Service Area Map (HTMX-loaded) -->
<section
  class="py-16 md:py-24 bg-neutral-50"
  hx-get="/partials/service-area-map"
  hx-trigger="intersect once"
  hx-swap="innerHTML"
  hx-indicator="#map-loading"
  aria-labelledby="service-area-heading"
>
  <div id="map-loading" class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
    <!-- Loading Skeleton (matches final structure) -->
    <div class="animate-pulse">
      <div class="h-12 bg-neutral-200 rounded w-1/3 mb-4"></div>
      <div class="h-6 bg-neutral-200 rounded w-2/3 mb-8"></div>
      <div class="h-96 bg-neutral-200 rounded"></div>
    </div>
  </div>
</section>

<!-- Schema.org LocalBusiness (structured data) -->
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "Electrician",
  "name": "{{ business_name }}",
  "description": "24/7 Emergency Electrical Service in Fort Myers & Cape Coral",
  "url": "https://monacoelectric.com",
  "telephone": "{{ phone }}",
  "address": {
    "@type": "PostalAddress",
    "addressLocality": "Fort Myers",
    "addressRegion": "FL",
    "addressCountry": "US"
  },
  "areaServed": [
    {% for area in service_areas %}
    { "@type": "City", "name": "{{ area }}" }{% if not loop.last %},{% endif %}
    {% endfor %}
  ],
  "openingHours": "Mo-Su 00:00-24:00",
  "priceRange": "$$",
  "license": "{{ license }}"
}
</script>
{% endblock %}
